function drawCard() {
  if (currentIndex >= totalCards) {
    document.getElementById("draw-button").disabled = true;
    return;
  }

  const drawArea = document.getElementById("draw-area");
  
  // 🎯 すでにあるカードを削除（前の裏面が残ってしまう対策）
  while (drawArea.firstChild) {
    drawArea.removeChild(drawArea.firstChild);
  }

  const cardData = cardStack[currentIndex];
  const card = document.createElement("div");
  card.id = cardData.id;
  card.className = "card";
  card.style.backgroundImage = "url('images/58.png')"; // ✅ 裏面から表示
  card.setAttribute("data-front", cardData.front);
  card.setAttribute("onclick", "flipCard(this)");
  // draggable は flip されてから有効になるのでここでは未設定

  drawArea.appendChild(card);
  currentIndex++;

  if (currentIndex >= totalCards) {
    document.getElementById("draw-button").disabled = true;
  }
}
